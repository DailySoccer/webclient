<section ng-show="updatedDate != null">

  <contest-header contestData="contest"></contest-header>

  <div class="info-and-social-bar" ng-if="!scrDet.isXsScreen">
    <!--<div class="social"><img src="images/socialBig.png"></div>-->
    <div class="teams-container">
      <div class="teams-box" ng-repeat="match in matchesInvolved">
        <div class="teams-info" ng-bind-html="match"></div>
      </div>
    </div>
  </div>

  <div class="info-and-social-bar" ng-if="scrDet.isXsScreen">
    <div class="teams-toggler-wrapper">
      <div id="teamsToggler" type="button" class="teams-toggler toggleOff" ng-click="toggleTeamsPanel()" data-target="#teamsPanel">PARTIDOS</div>
    </div>
    <div id="teamsPanel" class="teams-container collapse">
      <div class="top-border"></div>
      <div class="teams-box" ng-repeat="match in matchesInvolved">
        <div class="teams-info" ng-bind-html="match"></div>
      </div>
      <div class="bottom-border"></div>
    </div>
  </div>

  <div id="liveContestRoot" ng-switch="scrDet.isXsScreen" ng-cloak>
    <div ng-switch-when="true">
     <!-- Tabs de la versión XS -->
      <ul class="live-contest-tabs" id="liveContestTab" >
        <li class="active"> <a id="userFantasyTeamTab" ng-click="tabChange('userFantasyTeam')" data-toggle="tab">Tu alineación</a></li>
        <li>                <a id="usersListTab" ng-click="tabChange('usersList')" data-toggle="tab">Usuarios</a></li>
        <li ng-disabled="!isOpponentSelected"><a id="opponentFantasyTeamTab" ng-click="tabChange('opponentFantasyTeam')" data-toggle="tab">{{lastOpponentSelected}}</a></li>
      </ul>

      <div class="tab-content" id="liveContestTabContent">
        <fantasy-team class="tab-pane active" id="userFantasyTeam" contest-entry="mainPlayer" watch="updatedDate" is-opponent="false"></fantasy-team>
        <users-list class="tab-pane" id="usersList" contest-entries="contestEntries" on-row-click="onUserClick(contestEntry)" watch="updatedDate"></users-list>
        <fantasy-team class="tab-pane" is-opponent="true" id="opponentFantasyTeam" parent="ctrl" contest-entry="selectedOpponent" watch="updatedDate"></fantasy-team>
      </div>
    </div>

    <div ng-switch-when="false">
      <fantasy-team id="userFantasyTeam" contest-entry="mainPlayer" watch="updatedDate" is-opponent="false"></fantasy-team>
      <users-list id="usersList" ng-show="selectedOpponent == null" contest-entries="contestEntries" on-row-click="onUserClick(contestEntry)" watch="updatedDate"></users-list>
      <fantasy-team id="opponentFantasyTeam" contest-entry="selectedOpponent" is-opponent="true" ng-show="selectedOpponent != null"
                    show-close-button="true" on-close="selectedOpponent=null" watch="updatedDate"></fantasy-team>
    </div>
    <div class="contest-id-bar">
      <div class="contest-id">ID: {{contest.contestId.toUpperCase()}}</div>
    </div>
    <div class="clear-fix-bottom"></div>
  </div>

</section>
