
<!-- LINEUP FIELD -->
<section class="lineup-selector-section" [hidden]="!isLineupFieldSelectorActive" >
  <div class="lineup-actions-wrapper">  
    <div class="lineup-clean-btn-wrapper">
      <button type="button" class="btn-clean-lineup-list" (click)="resetLineup()">Limpiar alineación</button>
    </div>
    <div class="lineup-clean-btn-wrapper">
      <button type="button" class="btn-automatic-lineup" (click)="generateAutomaticLineup()">Alineación automática</button>
    </div>
  </div>
  <lineup-field-selector lineup-slots="lineupSlots"
                         lineup-formation="lineupFormation"
                         on-lineup-slot-selected="onLineupSlotSelected(slotIndex)"
                         formation-id="formationId"></lineup-field-selector>
  <div class="contest-id">ID: {{contest.contestId.toUpperCase()}}</div>
  <button class="confirm-btn" [hidden]="isThereAnyLineupConfigError" (click)="createFantasyTeam()" [disabled]="!isLineupFilled">Confirmar</button>
  <div class="lineup-config-error" [hidden]="isThereAnyLineupConfigError">
    <span class="lineup-config-error-title">{{getLocalizedText('alert-invalid-lineup')}}</span>
    {{lineupConfigErrorText}}
  </div>
  <div class="salary-info-wrapper">
    <div class="current-salary"><span class="current-salary-label">Presupuesto </span><span class="current-salary-amount" [ngClass]="{'red-numbers': availableSalary < 0 }">{{formatCurrency(printableCurrentSalary)}}</span></div>
    <div class="limit-salary"><span class="limit-salary-label">Límite </span><span class="limit-salary-amount">{{formatCurrency(printableSalaryCap)}}</span></div>
  </div>
</section>

<!-- SOCCER PLAYER LIST -->
<section class="soccer-player-list-section" *ngIf="isSelectingSoccerPlayerActive">
  <soccer-players-scalinglist soccer-players="allSoccerPlayers"
                              lineup-filter="lineupSlots"
                              manager-level="playerManagerLevel"
                              contest="contest"
                              favorites-list="favoritesPlayers" only-favorites="onlyFavorites"
                              field-pos-filter="fieldPosFilter" name-filter="nameFilter" match-filter="matchFilter"
                              on-info-click="onSoccerPlayerInfoClick(soccerPlayerId)"
                              on-action-click="onSoccerPlayerActionButton(soccerPlayer)"></soccer-players-scalinglist>
  <div class="salary-info-wrapper">
    <div class="current-salary"><span class="current-salary-label">Presupuesto </span><span class="current-salary-amount" [ngClass]="{'red-numbers': availableSalary < 0 }">{{formatCurrency(printableCurrentSalary)}}</span></div>
    <div class="limit-salary"><span class="limit-salary-label">Límite </span><span class="limit-salary-amount">{{formatCurrency(printableSalaryCap)}}</span></div>
  </div>
</section>

<!-- SOCCER PLAYER STATS -->
<section class="soccer-player-list-section" [hidden]="!isSoccerPlayerStatsActive">
  <soccer-player-stats instance-soccer-player-id="instanceSoccerPlayerDisplayInfo"
                       contest-id="contest.contestId"
                       selectable-player="isCurrentSelectedAdded"
                       on-action-click="onSoccerPlayerActionButtonFromStats(playerId)">
  </soccer-player-stats>
</section>

<!-- CONTEST INFO -->
<section class="contest-info-section" [hidden]="!isContestInfoActive">
  <contest-info the-contest="contest" *ngIf="contest != null"></contest-info>
</section>

<!-- LINEUP FINISHED -->
<modal-window class="lineup-finished-modal small" show-header="false" show-window="isLineupFinished">
  <div class="lineup-finished-title">¡Enhorabuena!<br>Has completado tu alineación con éxito</div>
  <button class="lineup-finished-invite-friends" (click)="inviteFriends()">Invita a tus amigos <i class="material-icons">&#xE7F0;</i></button>
  <div class="lineup-finished-text">Recuerda que puedes modificar la alineación tantas veces como quieras hasta que el torneo comience</div>
  <div class="lineup-finished-actions-wrapper">
    <button class="lineup-finished-back-lobby" (click)="cancelCreateLineup()">Volver a torneos</button>
    <button class="lineup-finished-view-lineup" (click)="goUpcomingContest()">Ver alineación</button>
  </div>
</modal-window>

<!-- ERROR JOINING -->
<modal-window class="error-joining-modal small" show-header="false" show-window="joiningErrorText != ''">
  <div class="error-joining-title">Lo sentimos...</div>
  <div class="error-joining-text">Ha ocurrido un error: <br>{{joiningErrorText}}</div>
  <div class="error-joining-actions-wrapper">
    <button class="error-joining-back-lobby" (click)="cancelCreateLineup()">Volver a torneos</button>
  </div>
</modal-window>
