<div class="enter-contest-wrapper" ng-cloak>

  <contest-header id="contestHeader" contest="contest" contest-id="contestId"></contest-header>

  <!-- Nav tabs -->
  <ul class="enter-contest-tabs" role="tablist">
    <li class="active"><a role="tab" data-toggle="tab" ng-click="tabChange('lineup-tab-content')">Tu alineación</a></li>
    <li><a role="tab" data-toggle="tab" ng-click="tabChange('contest-info-tab-content')">Info torneo</a></li>
  </ul>

  <div id="enterContest">
    <div class="tabs">
      <!-- Tab panes -->
      <div class="tab-content">
        <div class="tab-pane active" id="lineup-tab-content">

            <!-- Este sera el selector de partidos en "grande", con botones-->
            <matches-filter id="matchesFilterBig" contest="contest" selected-option="matchFilter" ng-if="isBigScreenVersion"></matches-filter>

            <div class="enter-contest-actions-wrapper" ng-if="isSmallScreenVersion">
              <div class="total-salary"><span ng-class="getMyTotalSalaryClasses()">{{availableSalary}}€</span></div>
              <button id="cancelSoccerPlayerSelection" type="button" class="btn-cancel-player-selection" ng-click="cancelPlayerSelection()" ng-show="isSelectingSoccerPlayer">CANCELAR</button>
            </div>

            <div class="enter-contest-lineup-wrapper">
              <div class="enter-contest-lineup">
                <div class="enter-contest-total-salary">
                    <span class="total-salary-text">TU ALINEACIÓN</span>
                    <span class="total-salary"><span class="total-salary-text">DINERO RESTANTE:</span>
                    <span ng-class="getMyTotalSalaryClasses()">{{availableSalary}}€</span></span>
                </div>

                <lineup-selector ng-show="!isSelectingSoccerPlayer || isBigScreenVersion"></lineup-selector>
              </div>
            </div>

            <div class="enter-contest-soccer-players-wrapper" ng-show="isSelectingSoccerPlayer || isBigScreenVersion">
              <div class="enter-contest-soccer-players">

                <!-- Este es el desplegable, para todas las versiones que sean moviles -->
                <matches-filter contest="contest" selected-option="matchFilter" ng-if="isSmallScreenVersion"></matches-filter>

                <soccer-players-filter name-filter="nameFilter" field-pos-filter="fieldPosFilter"></soccer-players-filter>
                
                <soccer-players-list soccer-players="availableSoccerPlayers"
                                     field-pos-filter="fieldPosFilter" name-filter="nameFilter" match-filter="matchFilter"
                                     on-row-click="onRowClick(soccerPlayerId)"
                                     on-add-click="onSoccerPlayerSelected(soccerPlayer)"></soccer-players-list>
              </div>
            </div>

            <div class="enter-contest-actions-wrapper">

              <button type="button" class="btn-cancel-player-selection" ng-click="cancelPlayerSelection()" ng-show="isSelectingSoccerPlayer" ng-if="isSmallScreenVersion">CANCELAR</button>

              <div ng-if="!isSelectingSoccerPlayer || isBigScreenVersion">
                <div class="button-wrapper">
                  <button type="button" class="btn-clean-lineup-list" ng-click="deleteFantasyTeam()" ng-disabled="isPlayerSelected()">BORRAR TODO</button>
                </div>
                <div class="button-wrapper">
                  <button type="button" class="btn-confirm-lineup-list" ng-click="createFantasyTeam()" ng-disabled="!isFantasyTeamValid()">CONFIRMAR</button>
                </div>
                <p>Recuerda que puedes editar tu equipo cuantas veces quieras hasta que comience la competición</p>
              </div>
            </div>

        </div>

        <div class="tab-pane" id="contest-info-tab-content">
          <contest-info contest-id-data="contestId"></contest-info>
        </div>

      </div>
    </div>

    <div class="contest-id-bar">
      <div class="contest-id">ID: {{contest.contestId.toUpperCase()}}</div>
    </div>
  </div>

</div>

<div class="soccer-player-info-wrapper" ng-if="scrDet.isXsScreen">
  <soccer-player-info instance-soccer-player="selectedInstanceSoccerPlayer"></soccer-player-info>
</div>

<!-- Modal Window que envuelve la informacion de concurso, mostrada cuando clickamos en cualquiera de los campos de la fila -->
<div  id="infoContestModal" class="modal fade" tabindex="-1" role="dialog" ng-if="!scrDet.isXsScreen">
  <div class="modal-dialog modal-lg">
    <div class="modal-content-soccer-player-info">
      <soccer-player-info instance-soccer-player="selectedInstanceSoccerPlayer"></soccer-player-info>
    </div>
  </div>
</div>