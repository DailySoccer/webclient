<section view-contest-ctrl ng-show="ctrl.initialized">

<contest-header contestData="ctrl.contest"></contest-header>
<div id="liveContestRoot" ng-switch="ctrl.scrDet.isXsScreen" ng-cloak>
  <div ng-switch-when="true">
    <ul class="nav nav-tabs" id="liveContestTab" >
      <li class="active"><a href="#/live_contest/#userFantasyTeam" data-toggle="tab">Tu alineaci√≥n</a></li>
      <li><a href="#/live_contest/#usersList" data-toggle="tab">Usuarios</a></li>
      <li><a href="#/live_contest/#opponentFantasyTeam" data-toggle="tab">Adversario</a></li>
    </ul>

    <div class="tab-content" id="liveContestTabContent">
      <fantasy-team class="tab-pane active" id="userFantasyTeam" contestEntry="ctrl.mainPlayer" watch="ctrl.updatedDate"></fantasy-team>
      <users-list class="tab-pane" id="usersList" contestEntries="ctrl.contestEntries" selectedContestEntry="ctrl.selectedOpponent" watch="ctrl.updatedDate"></users-list>
      <fantasy-team class="tab-pane" isOpponent="true" id="opponentFantasyTeam" contestEntry="ctrl.selectedOpponent" watch="ctrl.updatedDate"></fantasy-team>
    </div>
  </div>

  <div ng-switch-when="false">
    <fantasy-team id="userFantasyTeam" contestEntry="ctrl.mainPlayer" watch="ctrl.updatedDate"></fantasy-team>
    <users-list id="usersList" ng-show="ctrl.selectedOpponent == null" contestEntries="ctrl.contestEntries" selectedContestEntry="ctrl.selectedOpponent" watch="ctrl.updatedDate"></users-list>
    <fantasy-team id="opponentFantasyTeam" contestEntry="ctrl.selectedOpponent" isOpponent="true" ng-show="ctrl.selectedOpponent != null"
                  showCloseButton="true" onClose="ctrl.selectedOpponent=null" watch="ctrl.updatedDate"></fantasy-team>
  </div>
</div>

<!-- Hack temporal hasta que arreglen Angular o nos respondan con una solucion mejor -->
<div class="ng-hide">
  {{ctrl.mainPlayer}}
  {{ctrl.updatedDate}}
</div>

</section>
